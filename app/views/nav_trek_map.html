<ion-side-menus class="main-container">
    <!-- Center content -->
    <ion-side-menu-content>
        <ion-header-bar class="bar-main bar-light item-input-inset" ng-switch on="showSearch.search">
            <button class="button button-icon icon ion-navicon button-logo" menu-toggle="left">
            </button>
            <div class="flex-wrapper" ng-switch-when="1">
                <label class="item-input-wrapper">
                    <i class="icon ion-ios7-search placeholder-icon"></i>
                    <input type="search" placeholder="{{ 'nav_trek_map.search' | translate}}" ng-model="activeFilters.search">
                </label>
                <button class="button button-clear" ng-click="cancelBtHandler()">
                    {{ 'nav_trek_map.cancel' | translate }}
                </button>
            </div>
            <div class="buttons pull-right" ng-switch-default>
                <button class="button button-icon" ng-click="showSearch.search=1">
                    <i class="icon ion-search"></i>
                </button>
                <img class="network-state" ng-show="$root.network_available" src="images/icon_online.png"/>
                <img class="network-state" ng-hide="$root.network_available" src="images/icon_offline.png"/>
                <button class="button button-icon" ng-click="chooseLanguage()">
                    <i class="icon ion-gear-b"></i>
                </button>
                <button class="button button-icon" ng-click="showMore()">
                    <i class="icon ion-android-more"></i>
                </button>
            </div>
        </ion-header-bar>

        <ion-header-bar class="bar-subheader bar-dark">
            <div class="button-bar">
                <a class="button" ui-sref="home.trek" ui-sref-active="active">{{ 'nav_trek_map.ways' | translate }}<span class="trek-list--number">{{ (treks.features | filter:filterTreks | filter:{properties:activeFilters.search}).lengthÂ }}</span></a>
                <a class="button" ui-sref="home.map" ng-class="{ active: $state.includes('home.map')}">{{ 'nav_trek_map.map' | translate }}</a>
            </div>
        </ion-header-bar>

        <ui-view></ui-view>
    </ion-side-menu-content>

    <!-- Left menu -->
    <ion-side-menu side="left" width="245">
        <ion-content scroll="false">
            <ul class="filters-list">
                <li class="filters-list__item">
                    <button class="filters-list__bt button button-icon icon-top" ng-repeat="difficulty in filtersData.difficulties" ng-model="activeFilters.difficulty" btn-radio="{{ difficulty.value }}" style="background-image: url(images/{{ difficulty.icon }});" uncheckable>
                        <span>{{ difficulty.name }}</span>
                    </button>
                </li>

                <li class="filters-list__item">
                    <button class="filters-list__bt button button-icon icon-top {{ duration.icon }}" ng-repeat="duration in filtersData.durations" ng-model="activeFilters.duration" btn-radio="{{ duration.value }}" style="background-image: url(images/{{ duration.icon }});" uncheckable>
                        <span>{{ duration.name }}</span>
                    </button>
                </li>

                <li class="filters-list__item">
                    <button class="filters-list__bt button button-icon icon-top {{ elevation.icon }}" ng-repeat="elevation in filtersData.elevations" ng-model="activeFilters.elevation" btn-radio="{{ elevation.value }}" style="background-image: url(images/{{ elevation.icon }});" uncheckable>
                        <span>{{ elevation.name }}</span>
                    </button>
                </li>

                <li class="filters-list__item">
                    <button class="filters-list__bt button button-icon icon-top {{ themes.icon }}" ng-repeat="themes in filtersData.themes" ng-model="activeFilters.theme" btn-radio="{{ themes.value }}" style="background-image: url(images/{{ themes.icon }});" uncheckable>
                        <span>{{ themes.name }}</span>
                    </button>
                </li>

                <li class="filters-list__item">
                    <label class="item-input item-select">
                        <select ng-model="activeFilters.commune" ng-options="commune.name for commune in filtersData.communes">
                            <option value="">{{ 'nav_trek_map.city' | translate }}</option>
                        </select>
                    </label>
                </li>
            </ul>
            <button class="button button-block button-small button-dark" ng-click="resetFilters()">{{ 'nav_trek_map.reset' | translate }}</button>
        </ion-content>
    </ion-side-menu>
</ion-side-menus>